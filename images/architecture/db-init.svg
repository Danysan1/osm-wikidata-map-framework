<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1823px" preserveAspectRatio="none" style="width:1292px;height:1823px;background:#FFFFFF;" version="1.1" viewBox="0 0 1292 1823" width="1292px" zoomAndPan="magnify"><defs/><g><!--MD5=[5cc1b2c863c3943e519dce3dbb73311b]
entity param--><g id="elem_param"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="391.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="401.5" y="24.5332">Get config and parameters</text></g><!--MD5=[30f8ec3659cf73e3d4f868f99be65a6a]
entity mirror--><g id="elem_mirror"><path d="M270.3701,100.1841 C273.2587,95.3701 278.1351,94.0738 281.4863,99.6912 C283.977,94.0155 288.0225,92.9083 292.4933,97.5861 C295.8545,92.6588 299.9685,91.4283 303.6537,97.2497 C307.5366,91.3826 311.6388,90.7889 315.6848,97.0884 C318.4278,92.6388 321.9397,92.1683 325.2318,96.4906 C328.418,90.2864 332.3549,90.433 336.754,95.219 C340.0533,90.3378 345.105,90.4747 347.5215,96.1218 C352.3856,90.1949 356.7239,90.6822 359.9855,97.6685 C363.2321,93.3271 367.5672,92.2143 370.6874,97.8046 C374.2013,94.1883 378.2719,94.0183 380.2728,99.4139 C382.838,93.3718 388.2265,93.1717 391.2551,98.9846 C394.8932,94.9113 400.2324,96.125 402.0677,101.1313 C412.4818,100.7601 416.6003,107.7308 412.7576,116.9774 C417.2991,126.0326 412.4581,130.3057 403.8916,131.1757 C400.1116,136.6804 396.507,136.18 392.5209,131.4038 C389.3126,136.9775 385.7547,137.093 381.2907,132.8386 C376.9532,137.3024 372.9214,138.277 369.7228,131.6506 C367.6409,136.4406 362.6519,137.0986 359.2613,133.2321 C356.1413,137.3813 351.0015,137.9292 348.802,132.2524 C346.3211,138.3082 340.9288,138.0323 337.4638,133.2853 C334.0616,139.2754 329.2432,137.9386 325.9639,133.1541 C321.9728,138.3466 317.6363,137.8812 315.3507,131.5793 C311.8939,136.6049 307.3759,138.0964 303.5365,131.9851 C300.645,137.2232 296.0959,136.1607 293.4935,131.6862 C290.4882,137.071 286.5984,136.9427 282.8425,132.4997 C279.5482,137.8542 274.6226,138.1431 271.619,132.2107 C262.9932,129.0427 260.3647,122.7665 267.1086,115.46 C260.9082,108.5643 261.0801,103.7725 270.3701,100.1841 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="277" y="120.5332">OSM extract mirror</text></g><!--MD5=[f9c3c8a24e0726bab05d95569783e11e]
entity X.osm.pbf--><g id="elem_X.osm.pbf"><path d="M562,98.5 L562,131.1094 A2.5,2.5 0 0 0 564.5,133.6094 L641.5,133.6094 A2.5,2.5 0 0 0 644,131.1094 L644,106 L634,96 L564.5,96 A2.5,2.5 0 0 0 562,98.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M634,96 L634,103.5 A2.5,2.5 0 0 0 636.5,106 L644,106 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="572" y="120.5332">X.osm.pbf</text></g><!--MD5=[143a04d91ab79baecfe840ad339040fe]
entity Download--><g id="elem_Download"><rect fill="#FFFFE0" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="445" y="103"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="455" y="120.5332">Download</text></g><g id="elem_xsize"><path d="M763,205 L763,231.3516 A0,0 0 0 0 763,231.3516 L901,231.3516 A0,0 0 0 0 901,231.3516 L901,215 L891,205 L808.7,205 L643.94,134.06 L800.7,205 L763,205 A0,0 0 0 0 763,205 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M891,205 L891,215 L901,215 L891,205 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="769" y="223.4951">Size: 50MB ~ 70GB</text></g><!--MD5=[ce7f13b9eb8d28de9adf55ff09c43579]
entity filter1--><g id="elem_filter1"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="420.5" y="206"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="430.5" y="223.5332">osmium tags-filter</text></g><!--MD5=[2138b6dbb06b155506e384947d97876f]
entity file1--><g id="elem_file1"><path d="M586.5,201.5 L586.5,234.1094 A2.5,2.5 0 0 0 589,236.6094 L725,236.6094 A2.5,2.5 0 0 0 727.5,234.1094 L727.5,209 L717.5,199 L589,199 A2.5,2.5 0 0 0 586.5,201.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M717.5,199 L717.5,206.5 A2.5,2.5 0 0 0 720,209 L727.5,209 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="596.5" y="223.5332">with_name.osm.pbf</text></g><!--MD5=[dfb261041703ba52f910194e98ec44af]
entity filter2--><g id="elem_filter2"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="505.5" y="304"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="515.5" y="321.5332">osmium tags-filter</text></g><!--MD5=[f0995f22e4683d439f802f70f6fc16d3]
entity file2--><g id="elem_file2"><path d="M672,299.5 L672,332.1094 A2.5,2.5 0 0 0 674.5,334.6094 L867.5,334.6094 A2.5,2.5 0 0 0 870,332.1094 L870,307 L860,297 L674.5,297 A2.5,2.5 0 0 0 672,299.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M860,297 L860,304.5 A2.5,2.5 0 0 0 862.5,307 L870,307 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="682" y="321.5332">possible_etymology.osm.pbf</text></g><!--MD5=[9589780fcad2ab644c44b49a115c2530]
entity filter3--><g id="elem_filter3"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="705.5" y="402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="715.5" y="419.5332">osmium tags-filter</text></g><!--MD5=[bd31fc327df3f0d81ad8010b3a049ac0]
entity file3--><g id="elem_file3"><path d="M871.5,397.5 L871.5,430.1094 A2.5,2.5 0 0 0 874,432.6094 L986,432.6094 A2.5,2.5 0 0 0 988.5,430.1094 L988.5,405 L978.5,395 L874,395 A2.5,2.5 0 0 0 871.5,397.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M978.5,395 L978.5,402.5 A2.5,2.5 0 0 0 981,405 L988.5,405 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="881.5" y="419.5332">filtered.osm.pbf</text></g><g id="elem_3size"><path d="M905,303 L905,329.3516 A0,0 0 0 0 905,329.3516 L958.31,329.3516 L937.05,394.71 L966.31,329.3516 L1029,329.3516 A0,0 0 0 0 1029,329.3516 L1029,313 L1019,303 L905,303 A0,0 0 0 0 905,303 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1019,303 L1019,313 L1029,313 L1019,303 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="911" y="321.4951">Size: 4MB ~ 6GB</text></g><!--MD5=[80dabf241d271177efc0216b16049b74]
entity export--><g id="elem_export"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="874.5" y="500"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="884.5" y="517.5332">osmium export</text></g><!--MD5=[6bc999456665b14f89663a4fc10672a6]
entity tsv--><g id="elem_tsv"><path d="M1032,495.5 L1032,528.1094 A2.5,2.5 0 0 0 1034.5,530.6094 L1131.5,530.6094 A2.5,2.5 0 0 0 1134,528.1094 L1134,503 L1124,493 L1034.5,493 A2.5,2.5 0 0 0 1032,495.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1124,493 L1124,500.5 A2.5,2.5 0 0 0 1126.5,503 L1134,503 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1042" y="517.5332">X.osm.pbf.pg</text></g><g id="elem_tsvsize"><path d="M1024,401 L1024,427.3516 A0,0 0 0 0 1024,427.3516 L1087.73,427.3516 L1084.91,492.71 L1095.73,427.3516 L1162,427.3516 A0,0 0 0 0 1162,427.3516 L1162,411 L1152,401 L1024,401 A0,0 0 0 0 1024,401 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1152,401 L1152,411 L1162,411 L1152,401 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1030" y="419.4951">Size: 40MB ~ 22GB</text></g><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><g id="elem_db"><path d="M487.5,601 C487.5,591 526,591 526,591 C526,591 564.5,591 564.5,601 L564.5,627.6094 C564.5,637.6094 526,637.6094 526,637.6094 C526,637.6094 487.5,637.6094 487.5,627.6094 L487.5,601 " fill="#ADD8E6" style="stroke:#181818;stroke-width:0.5;"/><path d="M487.5,601 C487.5,611 526,611 526,611 C526,611 564.5,611 564.5,601 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="497.5" y="629.5332">Local DB</text></g><!--MD5=[6b09217310f8cc73862653e6f7eba8ab]
entity setup--><g id="elem_setup"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="863.5" y="602.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="873.5" y="620.0332">Setup DB schema</text></g><!--MD5=[45617b0e7e6b49ef8db486c1689ddb53]
entity copy--><g id="elem_copy"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184" x="991" y="698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="1001" y="715.5332">pgSQL COPY FROM CSV</text></g><!--MD5=[ee74b2f9039a71267b2f12db137aa682]
entity toobig--><g id="elem_toobig"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180" x="753" y="782"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="763" y="799.5332">Remove elements too big</text></g><!--MD5=[de70fbadc8dfbc3273b64a0856b8aab2]
entity wdcod--><g id="elem_wdcod"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="733" y="866"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="743" y="883.5332">Convert element wikidata codes</text></g><!--MD5=[3be43dedc70c6653b81896a4e97f8bba]
entity wdent--><g id="elem_wdent"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="234" x="732" y="957"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="742" y="974.5332">Load and convert wikidata entities</text></g><!--MD5=[5b5b6116e9ca12b5be308e1a61d0aa39]
entity csv--><g id="elem_csv"><path d="M579,952.5 L579,985.1094 A2.5,2.5 0 0 0 581.5,987.6094 L694.5,987.6094 A2.5,2.5 0 0 0 697,985.1094 L697,960 L687,950 L581.5,950 A2.5,2.5 0 0 0 579,952.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M687,950 L687,957.5 A2.5,2.5 0 0 0 689.5,960 L697,960 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="589" y="974.5332">wikidata-init.csv</text></g><!--MD5=[fa333889071b482bae05030de2d2b8d4]
entity ety--><g id="elem_ety"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="602.5" y="1048"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="612.5" y="1065.5332">Convert etymologies</text></g><!--MD5=[38ef3da207825949ac30c78e2f64fdaa]
entity wd--><g id="elem_wd"><path d="M280.3849,1140.8229 C284.17,1135.5936 288.1016,1134.0766 292.2315,1140.4715 C295.1326,1134.234 299.6398,1134.3021 304.1608,1138.6453 C308.6221,1133.6354 312.2923,1133.6843 316.1419,1139.3329 C319.0743,1132.5844 323.8156,1132.7128 327.8972,1138.2317 C331.7221,1132.2685 335.794,1131.8481 339.6874,1138.1659 C342.3774,1133.3378 346.0559,1132.3008 349.8653,1136.9659 C353.1907,1131.1501 359.2067,1130.0309 362.8818,1136.5983 C366.1937,1130.6566 370.4474,1131.584 373.9829,1136.3668 C377.3066,1131.7357 382.3041,1132.6964 384.5287,1137.5844 C388.5285,1130.987 394.2101,1131.1445 397.9063,1137.8887 C401.6523,1133.2866 404.7732,1132.9531 408.2199,1138.202 C412.1293,1132.5265 416.4962,1133.9215 419.3661,1139.2545 C423.7689,1133.8797 428.773,1134.2966 431.6929,1140.7942 C435.133,1134.886 440.4564,1135.8322 443.5545,1141.1554 C452.7316,1141.6298 456.654,1149.2881 452.1323,1157.1219 C456.7087,1165.2844 451.9023,1172.6715 442.7277,1172.3309 C440.3065,1179.1525 434.2475,1178.8505 430.4666,1173.7265 C427.9176,1179.9096 424.0441,1180.3581 419.2506,1176.1488 C415.9091,1180.7517 411.5933,1182.3473 407.9861,1176.4334 C404.8053,1181.9288 399.8885,1182.5171 395.753,1177.5496 C392.578,1183.7223 388.8908,1183.6485 384.7664,1178.4683 C381.8206,1183.2019 377.7001,1183.6049 374.2885,1178.9903 C371.7821,1186.1253 367.5149,1186.3742 362.3625,1181.6516 C357.0028,1186.0885 352.5508,1185.9719 349.9174,1178.7433 C346.7009,1184.8637 341.3132,1184.4532 338.242,1178.6016 C334.361,1182.8307 331.2548,1182.8128 328.447,1177.4998 C324.8981,1183.2117 318.1036,1183.3952 314.7634,1177.2586 C310.8479,1181.1658 307.0328,1180.8718 304.1022,1176.055 C299.5027,1180.7864 296.2054,1179.6344 293.4951,1174.1026 C288.9506,1178.9864 284.121,1178.0015 281.5934,1171.9146 C273.7962,1169.7258 271.0112,1164.0003 277.606,1157.7578 C269.6276,1151.5836 270.6021,1144.0826 280.3849,1140.8229 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="287" y="1161.5332">Wikidata Query Service</text></g><!--MD5=[8830599b041b22b0c31782a89ec27b40]
entity wdnaent--><g id="elem_wdnaent"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="241" x="556.5" y="1144"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="566.5" y="1161.5332">Load wikidata 'named after' entities</text></g><!--MD5=[f2ff0481ef640aa6da3b74fb9f3960dd]
entity propagate--><g id="elem_propagate"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="420.5" y="1240"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="430.5" y="1257.5332">Propagate etymologies</text></g><!--MD5=[3a66d1ca25fc405626ab99d4ced6b447]
entity wdcoent--><g id="elem_wdcoent"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="232" x="223" y="1324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="233" y="1341.5332">Load wikidata 'consists of' entities</text></g><!--MD5=[fe8d640be263639a691035317384d32f]
entity temp--><g id="elem_temp"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="130.5" y="1408"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="140.5" y="1425.5332">Remove elements without etymology</text></g><!--MD5=[9225881c05e5dcc29801826dc3c4a44b]
entity global--><g id="elem_global"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="125" y="1492"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="135" y="1509.5332">Setup global map</text></g><!--MD5=[676ae9f80b1c78d7e6c305f7392e67f0]
entity date--><g id="elem_date"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="124" y="1577"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="134" y="1594.5332">Save update date</text></g><!--MD5=[4fc509e7cb4a1e84b57c31bc7e09752e]
entity backup--><g id="elem_backup"><path d="M1086,1664.5 L1086,1697.1094 A2.5,2.5 0 0 0 1088.5,1699.6094 L1215.5,1699.6094 A2.5,2.5 0 0 0 1218,1697.1094 L1218,1672 L1208,1662 L1088.5,1662 A2.5,2.5 0 0 0 1086,1664.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M1208,1662 L1208,1669.5 A2.5,2.5 0 0 0 1210.5,1672 L1218,1672 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1096" y="1686.5332">X.osm.pbf.backup</text></g><!--MD5=[9343e995ce37c732c089d90efe9b9f87]
entity pg_dump--><g id="elem_pg_dump"><rect fill="#90EE90" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="971.5" y="1669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="981.5" y="1686.5332">pg_dump</text></g><g id="elem_busize"><path d="M1080,1576 L1080,1602.3516 A0,0 0 0 0 1080,1602.3516 L1148,1602.3516 L1152,1661.84 L1156,1602.3516 L1224,1602.3516 A0,0 0 0 0 1224,1602.3516 L1224,1586 L1214,1576 L1080,1576 A0,0 0 0 0 1080,1576 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1214,1576 L1214,1586 L1224,1586 L1214,1576 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="1086" y="1594.4951">Size: 70KB ~ 170MB</text></g><!--MD5=[b54f7b0ac5f0b0cbfa8a3d5feb5bb5f8]
entity destdb--><g id="elem_destdb"><path d="M1161,1770 C1161,1760 1218,1760 1218,1760 C1218,1760 1275,1760 1275,1770 L1275,1796.6094 C1275,1806.6094 1218,1806.6094 1218,1806.6094 C1218,1806.6094 1161,1806.6094 1161,1796.6094 L1161,1770 " fill="#F08080" style="stroke:#181818;stroke-width:0.5;"/><path d="M1161,1770 C1161,1780 1218,1780 1218,1780 C1218,1780 1275,1780 1275,1770 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1171" y="1798.5332">Destination DB</text></g><!--MD5=[ed473c282b5d5aa894f2a2f74c186551]
entity pg_restore--><g id="elem_pg_restore"><rect fill="#FFFFE0" height="23.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="1036.5" y="1771.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1046.5" y="1789.0332">pg_restore</text></g><!--MD5=[70dc807d1e4f1c500afab09e0c174c3e]
link mirror to Download--><g id="link_mirror_Download"><path d="M415.27,115 C423.42,115 431.57,115 439.72,115 " fill="none" id="mirror-Download" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="444.8,115,435.8,111,439.8,115,435.8,119,444.8,115" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="410.12,115,419.12,119,415.12,115,419.12,111,410.12,115" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4487c11e3be46e4b95f9fc0694e39103]
link param to Download--><g id="link_param_Download"><path d="M486,31.15 C486,47.69 486,78.8 486,97.84 " fill="none" id="param-to-Download" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="486,102.86,490,93.86,486,97.86,482,93.86,486,102.86" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[72944a001e0bef3265779978cf749d1a]
link Download to X.osm.pbf--><g id="link_Download_X.osm.pbf"><path d="M527.13,115 C536.98,115 546.82,115 556.66,115 " fill="none" id="Download-to-X.osm.pbf" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="561.81,115,552.81,111,556.81,115,552.81,119,561.81,115" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3e8211d53f931b58435c1f6479fbf0b5]
link X.osm.pbf to filter1--><g id="link_X.osm.pbf_filter1"><path d="M582.08,134.06 C559.41,153.63 523.66,184.49 502.76,202.53 " fill="none" id="X.osm.pbf-to-filter1" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="498.79,205.96,508.2212,203.1223,502.5802,202.699,503.0036,197.058,498.79,205.96" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[687247da91be3670c829874d3d5916e6]
link Download to filter1--><g id="link_Download_filter1"><path d="M486,127.19 C486,145.02 486,179.93 486,200.58 " fill="none" id="Download-to-filter1" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="486,205.76,490,196.76,486,200.76,482,196.76,486,205.76" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[99b6f4e70d37cd77ba982887c96dbea0]
link filter1 to file1--><g id="link_filter1_file1"><path d="M551.79,218 C561.59,218 571.39,218 581.19,218 " fill="none" id="filter1-to-file1" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="586.32,218,577.32,214,581.32,218,577.32,222,586.32,218" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9bcecbb03d819aac8b19e11657c0c3d2]
link file1 to filter2--><g id="link_file1_filter2"><path d="M640.82,237.06 C624.59,255.18 599.85,282.79 584.6,299.82 " fill="none" id="file1-to-filter2" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="580.93,303.91,589.9239,299.8962,584.2748,300.1935,583.9775,294.5445,580.93,303.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d8a204b4da310454d7ea77fecd3497d9]
link filter1 to filter2--><g id="link_filter1_filter2"><path d="M495.75,230.01 C510.91,247.14 540.19,280.2 557.41,299.65 " fill="none" id="filter1-to-filter2" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="561.1,303.82,558.1282,294.4302,557.7853,300.0767,552.1388,299.7338,561.1,303.82" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[eb49e8a51b4972eaa6c202057dc074a2]
link filter2 to file2--><g id="link_filter2_file2"><path d="M636.62,316 C646.61,316 656.59,316 666.57,316 " fill="none" id="filter2-to-file2" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="671.79,316,662.79,312,666.79,316,662.79,320,671.79,316" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d0efed3a42e9681a598dc923598c8ed6]
link file2 to filter3--><g id="link_file2_filter3"><path d="M771,335.06 C771,352.72 771,379.4 771,396.5 " fill="none" id="file2-to-filter3" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="771,401.91,775,392.91,771,396.91,767,392.91,771,401.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[92191b7a32d44c6569f90d966af66d9b]
link filter2 to filter3--><g id="link_filter2_filter3"><path d="M593.94,328.01 C630.92,345.76 703.55,380.62 743.33,399.72 " fill="none" id="filter2-to-filter3" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="748.02,401.97,741.6527,394.4562,743.5169,399.7971,738.176,401.6612,748.02,401.97" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[f620dc87b4f2353444b31827a36a4b04]
link filter3 to file3--><g id="link_filter3_file3"><path d="M836.53,414 C846.37,414 856.22,414 866.06,414 " fill="none" id="filter3-to-file3" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="871.21,414,862.21,410,866.21,414,862.21,418,871.21,414" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a2710a2bd65cc3eb5af3902ee088b91e]
link file3 to export--><g id="link_file3_export"><path d="M930,433.06 C930,450.72 930,477.4 930,494.5 " fill="none" id="file3-to-export" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="930,499.91,934,490.91,930,494.91,926,490.91,930,499.91" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[907ad9d42ce9f63595fe40ec35c691e1]
link filter3 to export--><g id="link_filter3_export"><path d="M789.24,426.01 C818.32,443.57 875.14,477.87 906.97,497.1 " fill="none" id="filter3-to-export" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="911.48,499.82,905.8522,491.7374,907.2027,497.2307,901.7094,498.5811,911.48,499.82" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[1894e352749983836a8f1f9ff611885b]
link export to tsv--><g id="link_export_tsv"><path d="M985.58,512 C999.25,512 1012.92,512 1026.59,512 " fill="none" id="export-to-tsv" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1031.63,512,1022.63,508,1026.63,512,1022.63,516,1031.63,512" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4cd2b4d0732ff9e32c92013a1d9fa6e7]
reverse link db to setup--><g id="link_db_setup"><path d="M569.91,614.5 C667.7,614.5 765.49,614.5 863.28,614.5 " fill="none" id="db-backto-setup" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="564.66,614.5,573.66,618.5,569.66,614.5,573.66,610.5,564.66,614.5" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[23bd8f2eba61cadcbe674ca544b1abf8]
link export to setup--><g id="link_export_setup"><path d="M930,524.14 C930,541.87 930,576.61 930,597.16 " fill="none" id="export-to-setup" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="930,602.31,934,593.31,930,597.31,926,593.31,930,602.31" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[78457f980dc7411244330345470b5fcd]
link tsv to copy--><g id="link_tsv_copy"><path d="M1083,531.09 C1083,568.87 1083,655.68 1083,692.26 " fill="none" id="tsv-to-copy" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1083,697.69,1087,688.69,1083,692.69,1079,688.69,1083,697.69" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[59f82a12843fc24437a422f5501af1a2]
link setup to copy--><g id="link_setup_copy"><path d="M948.15,626.59 C976.22,643.74 1030.08,676.66 1060.55,695.28 " fill="none" id="setup-to-copy" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1064.87,697.92,1059.2817,689.81,1060.6054,695.3099,1055.1055,696.6335,1064.87,697.92" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[93f8c4a7880025fb42cf909e95e7be71]
reverse link db to copy--><g id="link_db_copy"><path d="M569.82,622.86 C667.16,639.2 901.88,678.6 1017.04,697.93 " fill="none" id="db-backto-copy" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="564.72,622,572.9323,627.4367,569.6508,622.8289,574.2586,619.5475,564.72,622" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[a81f8c044efeb9c4173b0c1fa82d70a2]
link db to toobig--><g id="link_db_toobig"><path d="M569.52,630.01 C610.32,644.49 672.32,668.76 722,698 C762.74,721.98 804.98,758.21 827.18,778.29 " fill="none" id="db-toobig" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="831.08,781.84,827.1026,772.83,827.3771,778.4802,821.7269,778.7547,831.08,781.84" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="564.65,628.3,571.796,635.0775,569.3626,629.9708,574.4693,627.5374,564.65,628.3" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[395efc05b3455cfab1fbdea7d7404cf9]
link copy to toobig--><g id="link_copy_toobig"><path d="M1050.63,722.06 C1006.31,737.2 926.93,764.32 880.21,780.29 " fill="none" id="copy-to-toobig" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="875.24,781.99,885.0489,782.8768,879.9733,780.379,882.4712,775.3034,875.24,781.99" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[fca9e83b066b002df886ab290933c53a]
link db to wdcod--><g id="link_db_wdcod"><path d="M566.7,640.93 C589.82,656.21 618.7,676.77 642,698 C688.82,740.67 687.41,764.2 735,806 C761.24,829.05 795.49,850.31 818.31,863.44 " fill="none" id="db-wdcod" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="822.72,865.96,816.8763,858.0321,818.3744,863.487,812.9195,864.9851,822.72,865.96" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="562.46,638.14,567.7756,646.4312,566.6355,640.8904,572.1763,639.7504,562.46,638.14" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[56e7d8fe6395ed8fe3536102096da747]
link toobig to wdcod--><g id="link_toobig_wdcod"><path d="M843,806.06 C843,820.12 843,844.51 843,860.7 " fill="none" id="toobig-to-wdcod" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="843,865.85,847,856.85,843,860.85,839,856.85,843,865.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[9d60280e30e1cd8d46d2b7ca28af2e04]
link csv to wdent--><g id="link_csv_wdent"><path d="M697.34,969 C707.18,969 717.02,969 726.86,969 " fill="none" id="csv-to-wdent" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="732,969,723,965,727,969,723,973,732,969" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[31eb290e1eb04070974a770d12514674]
link db to wdent--><g id="link_db_wdent"><path d="M539.55,642.86 C566.82,695.82 632.82,813.83 715,890 C745.79,918.54 788.81,941.26 817.72,954.65 " fill="none" id="db-wdent" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="822.59,956.88,816.0798,949.4896,818.046,954.7938,812.7419,956.76,822.59,956.88" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="537.18,638.24,537.7154,648.0743,539.4561,642.6919,544.8384,644.4326,537.18,638.24" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[e6fe1f944a49ffb5e29c97da477d482a]
link wdcod to wdent--><g id="link_wdcod_wdent"><path d="M843.76,890.27 C844.81,905.79 846.7,933.82 847.9,951.64 " fill="none" id="wdcod-to-wdent" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="848.25,956.82,851.6249,947.5674,847.9079,951.8317,843.6437,948.1147,848.25,956.82" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[71e76cba4782ddbe7e137a646fbaf3ca]
link db to ety--><g id="link_db_ety"><path d="M526,643.58 C526,678.57 526,740.2 526,793 C526,793 526,793 526,879 C526,929.88 529.56,948 561,988 C582.22,1015 616.77,1034.24 642.66,1045.82 " fill="none" id="db-ety" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="647.39,1047.89,640.7586,1040.6082,642.8122,1045.8792,637.5412,1047.9328,647.39,1047.89" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="526,638.2,522,647.2,526,643.2,530,647.2,526,638.2" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[186ed0f3a7bb5f4a5f6349d206e41955]
link wdent to ety--><g id="link_wdent_ety"><path d="M827.56,981.09 C796.06,997.39 737.33,1027.78 703.27,1045.4 " fill="none" id="wdent-to-ety" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="698.44,1047.91,708.2707,1047.3117,702.8773,1045.6055,704.5835,1040.2121,698.44,1047.91" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[b09098c13612a164f731eca973ecd95e]
link wd to wdnaent--><g id="link_wd_wdnaent"><path d="M455.56,1156 C487.36,1156 519.16,1156 550.96,1156 " fill="none" id="wd-wdnaent" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="556.06,1156,547.06,1152,551.06,1156,547.06,1160,556.06,1156" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="450.18,1156,459.18,1160,455.18,1156,459.18,1152,450.18,1156" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[56257164e19104d9393d3ac379728fa1]
link db to wdnaent--><g id="link_db_wdnaent"><path d="M507.65,642.54 C486.62,676.23 455,736.3 455,793 C455,793 455,793 455,970 C455,1063.64 573,1119.07 636.94,1142.24 " fill="none" id="db-wdnaent" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="641.82,1143.98,634.674,1137.2025,637.1074,1142.3092,632.0007,1144.7426,641.82,1143.98" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="510.42,638.16,502.2314,643.6324,507.7495,642.3871,508.9948,647.9052,510.42,638.16" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[c8bd96301f1ea8a1b2df336468f864ea]
link ety to wdnaent--><g id="link_ety_wdnaent"><path d="M677,1072.15 C677,1088.69 677,1119.8 677,1138.84 " fill="none" id="ety-to-wdnaent" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="677,1143.86,681,1134.86,677,1138.86,673,1134.86,677,1143.86" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[6240ccf2237be5bfbd68ffab8beea67f]
link db to propagate--><g id="link_db_propagate"><path d="M486.27,641.17 C444.26,671.79 384,727.19 384,793 C384,793 384,793 384,970 C384,1050.9 436.72,1056.98 467,1132 C481.5,1167.91 493.36,1211.94 499.16,1235.07 " fill="none" id="db-propagate" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="500.37,1239.95,502.0946,1230.2533,499.1708,1235.0959,494.3281,1232.1721,500.37,1239.95" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="490.53,638.11,480.8914,640.1342,486.4759,641.0364,485.5737,646.6209,490.53,638.11" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[69508a8ba24b6b5710a4700acda94183]
link wdnaent to propagate--><g id="link_wdnaent_propagate"><path d="M656.36,1168.15 C624.31,1185.47 562.68,1218.76 528.1,1237.44 " fill="none" id="wdnaent-to-propagate" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="523.62,1239.86,533.4384,1239.0865,528.0155,1237.4767,529.6252,1232.0538,523.62,1239.86" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[5f85c9cdd63cc121f2a037b0ae1110e9]
link wd to wdcoent--><g id="link_wd_wdcoent"><path d="M357.48,1185.45 C352.84,1223.01 344.82,1287.93 341.06,1318.36 " fill="none" id="wd-wdcoent" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="340.41,1323.62,345.4835,1315.1785,341.0232,1318.6577,337.5439,1314.1974,340.41,1323.62" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="358.12,1180.27,353.0465,1188.7115,357.5068,1185.2323,360.9861,1189.6926,358.12,1180.27" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[63912845e1f02a94da12ef3ea2a367f3]
link db to wdcoent--><g id="link_db_wdcoent"><path d="M482.23,620.45 C397.43,632.73 219,672.85 219,793 C219,793 219,793 219,1157 C219,1228.63 286.63,1293.03 320.35,1320.69 " fill="none" id="db-wdcoent" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="324.29,1323.87,319.8079,1315.1001,320.4024,1320.7257,314.7769,1321.3202,324.29,1323.87" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="487.43,619.72,477.9591,617.0177,482.4791,620.4191,479.0777,624.9391,487.43,619.72" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[700d86a9c1265a6beaf380f9185d7f4a]
link propagate to wdcoent--><g id="link_propagate_wdcoent"><path d="M480.88,1264.06 C450.97,1279.02 397.67,1305.67 365.6,1321.7 " fill="none" id="propagate-to-wdcoent" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="361.03,1323.99,370.8693,1323.5554,365.505,1321.7597,367.3007,1316.3954,361.03,1323.99" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[771c9449059b7809e45e904b7841b09e]
link db to temp--><g id="link_db_temp"><path d="M482.11,616.34 C382.52,620.79 148,646.81 148,793 C148,793 148,793 148,1253 C148,1317.97 206.63,1377.71 237.09,1404.37 " fill="none" id="db-temp" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="241.01,1407.75,236.8157,1398.8389,237.2268,1404.4808,231.585,1404.8919,241.01,1407.75" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="487.32,616.12,478.157,612.509,482.3246,616.3341,478.4995,620.5017,487.32,616.12" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[6f9a823a74834a0983a1217f1a3f6820]
link wdcoent to temp--><g id="link_wdcoent_temp"><path d="M327.67,1348.06 C312.89,1362.49 286.97,1387.79 270.41,1403.95 " fill="none" id="wdcoent-to-temp" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="266.42,1407.85,275.6476,1404.4075,269.9911,1404.3504,270.0482,1398.6938,266.42,1407.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[45a4007b7da6f1ab2d86886deb2adae9]
link db to global--><g id="link_db_global"><path d="M481.94,617.38 C410.95,622.14 268.81,638.91 166,698 C115.84,726.83 77,735.14 77,793 C77,793 77,793 77,1337 C77,1382.15 87.73,1394.58 113,1432 C128.48,1454.92 152.75,1475.67 169.9,1488.74 " fill="none" id="db-global" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="174.09,1491.89,169.3048,1483.2818,170.0952,1488.8831,164.4938,1489.6735,174.09,1491.89" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="487.34,617.03,478.0964,613.6305,482.3508,617.3588,478.6225,621.6132,487.34,617.03" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[3485a56b952677b41c0f823e7b566c2a]
link temp to global--><g id="link_temp_global"><path d="M246.23,1432.06 C234.89,1446.36 215.08,1471.36 202.25,1487.54 " fill="none" id="temp-to-global" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="198.83,1491.85,207.5534,1487.278,201.9342,1487.9304,201.2819,1482.3112,198.83,1491.85" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[3cec837779bea0c342a8f2e7f16a9e23]
link db to date--><g id="link_db_date"><path d="M481.9,617 C403.98,621.2 238.54,637.18 115,698 C57.35,726.38 6,728.74 6,793 C6,793 6,793 6,1421 C6,1500.77 102.01,1552.44 155.32,1574.98 " fill="none" id="db-date" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="160.03,1576.94,153.2686,1569.7787,155.4167,1575.0119,150.1836,1577.16,160.03,1576.94" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="487.35,616.71,478.1564,613.1775,482.3566,616.9668,478.5673,621.167,487.35,616.71" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[574fb2957d5d6b7a4e7625e4f5d07926]
link global to date--><g id="link_global_date"><path d="M190,1516.19 C190,1530.51 190,1555.39 190,1571.78 " fill="none" id="global-to-date" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="190,1576.98,194,1567.98,190,1571.98,186,1567.98,190,1576.98" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[ae226f3d4946d26aac0d0653a8452321]
link db to pg_dump--><g id="link_db_pg_dump"><path d="M564.53,618.51 C648.84,627.26 850.17,660.49 951,782 C1031.95,879.55 1019,932.23 1019,1059 C1019,1059 1019,1059 1019,1505 C1019,1563.41 1014.5,1632.67 1012.25,1663.63 " fill="none" id="db-to-pg_dump" style="stroke:#0000FF;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#0000FF" points="1011.86,1668.95,1016.4928,1660.2588,1012.2173,1663.9628,1008.5133,1659.6872,1011.86,1668.95" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[6d53c34b5e6ae8fa1233be9f4cb5df8d]
link pg_dump to backup--><g id="link_pg_dump_backup"><path d="M1050.66,1681 C1060.66,1681 1070.66,1681 1080.66,1681 " fill="none" id="pg_dump-to-backup" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1085.89,1681,1076.89,1677,1080.89,1681,1076.89,1685,1085.89,1681" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[af9b9c386798e221826183584dbab237]
link date to pg_dump--><g id="link_date_pg_dump"><path d="M256.14,1597.25 C417.76,1614.97 829.46,1660.1 966.13,1675.08 " fill="none" id="date-to-pg_dump" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="971.27,1675.64,962.7574,1670.6867,966.2995,1675.0972,961.889,1678.6394,971.27,1675.64" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[522335ba3af1bc98ec1e587c3bfbc2b1]
link backup to pg_restore--><g id="link_backup_pg_restore"><path d="M1138.98,1700.43 C1125.47,1719.55 1104.59,1749.11 1091.92,1767.05 " fill="none" id="backup-to-pg_restore" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1088.88,1771.35,1097.3477,1766.3203,1091.7713,1767.2707,1090.8209,1761.6943,1088.88,1771.35" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[69b00a1f6e0a00374708d4dc6b6c32a0]
link pg_restore to destdb--><g id="link_pg_restore_destdb"><path d="M1125.69,1783.5 C1135.61,1783.5 1145.54,1783.5 1155.47,1783.5 " fill="none" id="pg_restore-to-destdb" style="stroke:#FF7F50;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#FF7F50" points="1160.66,1783.5,1151.66,1779.5,1155.66,1783.5,1151.66,1787.5,1160.66,1783.5" style="stroke:#FF7F50;stroke-width:1.0;"/></g><!--MD5=[b664100bf04e28bf49c01f7ad0a12ff4]
link pg_dump to pg_restore--><g id="link_pg_dump_pg_restore"><path d="M1018.76,1693.14 C1031.32,1711.17 1056.13,1746.8 1070.34,1767.2 " fill="none" id="pg_dump-to-pg_restore" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1073.21,1771.31,1071.3461,1761.6391,1070.3513,1767.2078,1064.7826,1766.213,1073.21,1771.31" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[9fa657ccec5f8ee541cdde50a35b992a]
@startuml db-init

card "Get config and parameters" as param #LightGreen
cloud "OSM extract mirror" as mirror
file X.osm.pbf
card Download #LightYellow
mirror <.> Download
param -[bold]-> Download
Download .> X.osm.pbf

note as xsize
  Size: 50MB ~ 70GB
end note
X.osm.pbf .. xsize

card "osmium tags-filter" as filter1 #LightGreen
file with_name.osm.pbf as file1
X.osm.pbf .> filter1
Download -[bold]-> filter1
filter1 .> file1

card "osmium tags-filter" as filter2 #LightGreen
file possible_etymology.osm.pbf as file2
file1 .> filter2
filter1 -[bold]-> filter2
filter2 .> file2

card "osmium tags-filter" as filter3 #LightGreen
file filtered.osm.pbf as file3
file2 .> filter3
filter2 -[bold]-> filter3
filter3 .> file3

note as 3size
  Size: 4MB ~ 6GB
end note
3size .. file3

card "osmium export" as export #LightGreen
file X.osm.pbf.pg as tsv
file3 .> export
filter3 -[bold]-> export
export .> tsv

note as tsvsize
  Size: 40MB ~ 22GB
end note
tsvsize .. tsv

database "Local DB" as db #LightBlue
card "Setup DB schema" as setup #LightGreen
setup .left.> db #Blue
export -[bold]-> setup

card "pgSQL COPY FROM CSV" as copy #LightGreen
tsv .> copy
setup -[bold]-> copy
copy .left.> db #Blue

card "Remove elements too big" as toobig #LightGreen
toobig <.left.> db #Blue
copy -[bold]-> toobig

card "Convert element wikidata codes" as wdcod #LightGreen
wdcod <.left.> db #Blue
toobig -[bold]-> wdcod

card "Load and convert wikidata entities" as wdent #LightGreen
file "wikidata-init.csv" as csv
csv .> wdent
wdent <.left.> db #Blue
wdcod -[bold]-> wdent

card "Convert etymologies" as ety #LightGreen
ety <.left.> db #Blue
wdent -[bold]-> ety

cloud "Wikidata Query Service" as wd

card "Load wikidata 'named after' entities" as wdnaent #LightGreen
wd <.> wdnaent
wdnaent <.left.> db #Blue
ety -[bold]-> wdnaent

card "Propagate etymologies" as propagate #LightGreen
propagate <.left.> db #Blue
wdnaent -[bold]-> propagate

card "Load wikidata 'consists of' entities" as wdcoent #LightGreen
wd <.> wdcoent
wdcoent <.left.> db #Blue
propagate -[bold]-> wdcoent

card "Remove elements without etymology" as temp #LightGreen
temp <.left.> db #Blue
wdcoent -[bold]-> temp

card "Setup global map" as global #LightGreen
global <.left.> db #Blue
temp -[bold]-> global

card "Save update date" as date #LightGreen
date <.left.> db #Blue
global -[bold]-> date

file X.osm.pbf.backup as backup
card pg_dump #LightGreen
db .> pg_dump #Blue
pg_dump .> backup
date -[bold]-> pg_dump

note as busize
  Size: 70KB ~ 170MB
end note
busize .. backup

database "Destination DB" as destdb #LightCoral
card pg_restore #LightYellow
backup .> pg_restore
pg_restore .> destdb #Coral
pg_dump -[bold]-> pg_restore

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: it
Country: IT
--></g></svg>