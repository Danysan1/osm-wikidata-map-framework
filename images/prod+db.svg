<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="588px" preserveAspectRatio="none" style="width:498px;height:588px;background:#FFFFFF;" version="1.1" viewBox="0 0 498 588" width="498px" zoomAndPan="magnify"><defs/><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><g id="cluster_Server"><rect fill="none" height="433" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="485" x="7" y="149.5"/><rect fill="none" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="472" y="154.5"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="470" y="156.5"/><rect fill="none" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="470" y="160.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="48" x="225.5" y="177.0332">Server</text></g><!--MD5=[5ec7eedd57310648f8059ffb2621ca4b]
cluster docker--><g id="cluster_docker"><rect fill="none" height="379" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="365" x="103" y="179.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="249" x="161" y="196.0332">Docker Compose --profile 'prod+db'</text></g><!--MD5=[ffe4ad9ccf7072d049fa6ad8564d92a1]
cluster oem-postgis--><g id="cluster_oem-postgis"><polygon fill="none" points="119,423.5,129,413.5,444,413.5,444,532.5,434,542.5,119,542.5,119,423.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="434" x2="444" y1="423.5" y2="413.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="119" x2="434" y1="423.5" y2="423.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="434" x2="434" y1="423.5" y2="542.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="234" y="441.0332">oem-postgis</text></g><!--MD5=[5a8b7ee3eae4de21b4edbcb4d9e5d3d3]
cluster oem-web-prod--><g id="cluster_oem-web-prod"><polygon fill="none" points="119,239.5,129,229.5,452,229.5,452,353.5,442,363.5,119,363.5,119,239.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="442" x2="452" y1="239.5" y2="229.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="119" x2="442" y1="239.5" y2="239.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="442" x2="442" y1="239.5" y2="363.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="230.5" y="257.0332">oem-web-prod</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="109" y="128.4238">80</text><rect fill="#F1F1F1" height="12" style="stroke:#181818;stroke-width:1.5;" width="12" x="111" y="143.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="166" y="392.4238">5432</text><rect fill="#F1F1F1" height="12" style="stroke:#181818;stroke-width:1.5;" width="12" x="176" y="407.5"/><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><g id="elem_db"><path d="M135,489.5 C135,479.5 182,479.5 182,479.5 C182,479.5 229,479.5 229,489.5 L229,516.1094 C229,526.1094 182,526.1094 182,526.1094 C182,526.1094 135,526.1094 135,516.1094 L135,489.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M135,489.5 C135,499.5 182,499.5 182,499.5 C182,499.5 229,499.5 229,489.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="145" y="518.0332">PostGIS DB</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="171" y="208.4238">80</text><rect fill="#F1F1F1" height="12" style="stroke:#181818;stroke-width:1.5;" width="12" x="173" y="223.5"/><!--MD5=[a0fef4f34cb3559b44f1c4ed44c10eb8]
entity Apache--><g id="elem_Apache"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="135" y="299.5"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="203" y="304.5"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="201" y="306.5"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="201" y="310.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="150" y="334.0332">Apache</text></g><!--MD5=[e9dede37b31fdda9664526f66258b036]
entity Browser--><g id="elem_Browser"><ellipse cx="117" cy="14" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M117,22 L117,49 M104,30 L130,30 M117,49 L104,64 M117,49 L130,64 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="91.5" y="80.0332">Browser</text></g><!--MD5=[1276741ab19b315a499829bc13fea030]
link Apache to 5432db--><g id="link_Apache_5432db"><path d="M179.79,347.62 C180.39,365.29 181.19,388.79 181.65,402.12 " fill="none" id="Apache-to-5432db" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="181.83,407.47,185.5193,398.3382,181.6587,402.4729,177.524,398.6123,181.83,407.47" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5a991882528c63219e1b5976c28aec7f]
link Browser to 80docker--><g id="link_Browser_80docker"><path d="M117,83.56 C117,103.04 117,125.28 117,138.03 " fill="none" id="Browser-to-80docker" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="117,143.17,121,134.17,117,138.17,113,134.17,117,143.17" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[cb2118ce9ce00fc0fce55828fc161e98]
link 80docker to 80webProd--><g id="link_80docker_80webProd"><path d="M123.21,150.04 C134.21,149.6 157.09,150.43 169,163.5 C182.72,178.55 182.18,204.17 180.59,218.34 " fill="none" id="80docker-to-80webProd" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="179.93,223.32,185.078,214.9237,180.5871,218.3634,177.1474,213.8724,179.93,223.32" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[61323abf26bab5d1b04916da505b1a4b]
link 80webProd to Apache--><g id="link_80webProd_Apache"><path d="M179,235.71 C179,246.78 179,273.35 179,294.2 " fill="none" id="80webProd-to-Apache" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="179,299.36,183,290.36,179,294.36,175,290.36,179,299.36" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f13cc59805c65a88679534905da7efc3]
link 5432db to db--><g id="link_5432db_db"><path d="M182,419.71 C182,430.2 182,454.54 182,474.04 " fill="none" id="5432db-to-db" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="182,479.4,186,470.4,182,474.4,178,470.4,182,479.4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9ed6e2268d5118d2649c772e2396b4c8]
@startuml prod+db

actor Browser
component Server {
  port "80" as 80docker
  rectangle "Docker Compose - -profile 'prod+db'" as docker {
    node "oem-postgis" {
      port 5432 as 5432db
      database "PostGIS DB" as db
    }
    node "oem-web-prod" {
      port "80" as 80webProd
      component Apache
    }
  }
}

Apache - -> 5432db

Browser - -> 80docker

80docker - -> 80webProd

80webProd - -> Apache
5432db - -> db

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: it
Country: IT
--></g></svg>