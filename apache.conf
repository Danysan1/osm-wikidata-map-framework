<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html

    <Directory "/var/www/html/">
        Options Indexes FollowSymLinks

        # .htaccess is ignored when this configuration file is used
        # https://httpd.apache.org/docs/2.4/mod/core.html#allowoverride
        AllowOverride None
        AllowOverrideList None
    
        # Accept only GET HTTP requests
        # https://httpd.apache.org/docs/current/howto/access.html
        Require all granted
        Order allow,deny
        Allow from all
        <LimitExcept GET>
            Deny from all
        </LimitExcept>

        # Block spam or malicious requests
        # A WAF and/or mod_security should also be enabled alongside this
        RedirectMatch 403 owmf\.ini
        RedirectMatch 403 owmf\.log
        RedirectMatch 403 map-cache/.*csv
        RedirectMatch 403 wp-
        RedirectMatch 403 wordpress

        # Internal redirects
        # https://httpd.apache.org/docs/2.4/mod/mod_rewrite.html
        RewriteEngine  on
        RewriteRule "^taginfo\.json$" "taginfo.json.php" [PT]
        RewriteRule "^toolinfo\.json$" "toolinfo.json.php" [PT]

        # Cache TTL rules
        # https://httpd.apache.org/docs/2.4/mod/mod_expires.html
        ExpiresActive On
        ExpiresDefault "access plus 1 year"
        ExpiresByType text/css "access plus 1 week"
        ExpiresByType text/javascript "access plus 1 week"
        ExpiresByType application/javascript "access plus 1 week"
        ExpiresByType application/json "access plus 1 week"
        ExpiresByType application/geo+json "access plus 1 week"
    </Directory>
</VirtualHost>